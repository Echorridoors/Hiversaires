<!DOCTYPE html>
<html>
  <head>
    <script>if (typeof module === 'object') {window.module = module; module = undefined;}</script>
    <!-- <script type="text/javascript" src="scripts/jquery.js"></script> -->
    <script type="text/javascript" src="lib/jquery-3.2.1.min.js"></script>
    <script type="text/javascript" src="lib/jquery.transit.min.js"></script>
    <script type="text/javascript" src="scripts/logo.js"></script>

    <script type="text/javascript" src="scripts/core/hiversaires.js"></script>
    <script type="text/javascript" src="scripts/core/stage.js"></script>
    <script type="text/javascript" src="scripts/core/game.js"></script>
    <script type="text/javascript" src="scripts/core/world.js"></script>
    <script type="text/javascript" src="scripts/core/music.js"></script>
    <script type="text/javascript" src="scripts/core/artbook.js"></script>

    <script type="text/javascript" src="scripts/core/dozenal.js"></script>
    
    <script type="text/javascript" src="scripts/core/keyboard.js"></script>
    <script type="text/javascript" src="scripts/core/walkthrough.js"></script>

    <link rel="stylesheet" type="text/css" href="links/reset.css"/>
    <link rel="stylesheet" type="text/css" href="links/main.css"/>
    <title>Hiversaires</title>
  </head>
  <body>
    <div id='splash' style='position:fixed; top:0px; left:0px; width:100%; height:100%; background:black; z-index: 9999; display:block'>
      <div id='logo' style='width:120px;height:120px; margin:25vh auto'></div>
    </div>
    <script>

      let DEBUG_SKIP_LOGO = true;
      let DEBUG_SHOW_TRIGGERS = true;
      let DEBUG_SHOW_BILLBOARDS = true;
      let DEBUG_LOG_GHOST = false;
      let DEBUG_DONT_SAVE = false;
      let DEBUG_NO_MUSIC = false;
      let DEBUG_SHOW_STATS = false;
      let DEBUG_REPORT_NODE_USE = false;

      let hiversaires = new Hiversaires();
      
      let keyboard = new Keyboard();
      document.onkeyup = function(event){ keyboard.onKey(event); };
      // document.addEventListener('mousedown', function(e){ hiversaires.mousedown(e); }, false);

      let logo = new Logo(document.getElementById("logo"));

      setTimeout(function(){ logo.install(); }, 1500);
      setTimeout(function(){ hiversaires.start(); }, DEBUG_SKIP_LOGO ? 100 : 7000);

      $("#splash").delay(DEBUG_SKIP_LOGO ? 100 : 7500).animate({ opacity: 0 }, 1000,function(){
        $("#splash").remove();
      }); 

    </script>
  </body>
</html>
